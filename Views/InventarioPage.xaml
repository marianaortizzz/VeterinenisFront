<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Veterinaria.Views.InventarioPage"
             Title="InventarioPage">
    <VerticalStackLayout Padding="10">

        <!-- Encabezado -->
        <Grid ColumnDefinitions="Auto,*,Auto" Padding="0,10">
            <ImageButton Source="arrow_back.png"
                         HeightRequest="30" WidthRequest="30"
                         BackgroundColor="Transparent"
                         />

            <Label Text="Stock"
                   Grid.Column="1"
                   HorizontalOptions="Center"
                   VerticalOptions="Center"
                   FontSize="24"
                   FontAttributes="Bold"/>

        </Grid>

        <!-- Search -->
        <Frame CornerRadius="30"
               BackgroundColor="#89986A"
               Padding="10"
               Margin="0,10"
               HasShadow="False">
            <Grid ColumnDefinitions="*,Auto">
                <Entry Placeholder="Hinted search text"
                       BackgroundColor="Transparent"
                       TextColor="White" />
                <Image Source="search_icon.png"
                       Grid.Column="1"
                       HeightRequest="24"
                       VerticalOptions="Center"/>
            </Grid>
        </Frame>

        <!-- Lista -->
        <CollectionView x:Name="MedicamentosList" ItemsSource="{Binding Medicamentos}">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame BackgroundColor="#EDEEC8"
                           CornerRadius="10"
                           Margin="0,5"
                           Padding="10"
                           HasShadow="False">
                        <Grid ColumnDefinitions="*,Auto,Auto" RowDefinitions="Auto,Auto">
                            <Label Text="{Binding Nombre}" FontAttributes="Bold" Grid.Row="0" Grid.Column="0"/>
                            <Label Text="Cantidad: {Binding Cantidad}" FontSize="14" Grid.Row="1" Grid.Column="0"/>

                            <ImageButton Source="edit_icon.png"
                                         Grid.RowSpan="2"
                                         Grid.Column="1"
                                         BackgroundColor="Transparent"
                                         CommandParameter="{Binding}" />

                            <ImageButton Source="delete_icon.png"
                                         Grid.RowSpan="2"
                                         Grid.Column="2"
                                         BackgroundColor="Transparent"
                                         CommandParameter="{Binding}" />
                        </Grid>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

    </VerticalStackLayout>
</ContentPage>